{
  "createdAt": "2025-01-23T17:12:06.255Z",
  "updatedAt": "2025-01-23T19:19:11.013Z",
  "id": "6pOTR5EQbaqVL7nI",
  "name": "My workflow 9",
  "active": true,
  "nodes": [
    {
      "parameters": {
        "public": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        -580,
        -340
      ],
      "id": "12b4357e-6074-4c5b-a451-12c1f92f263a",
      "name": "When chat message received",
      "webhookId": "c98f927c-ce04-414a-bb04-e0267c4e3e7f",
      "disabled": true
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.1,
      "position": [
        -300,
        -140
      ],
      "id": "1f5886b3-91c4-4929-a65c-73b5871bde5d",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "RhJGnAesg7rbO4uq",
          "name": "primeiro assistent"
        }
      }
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "finexpro",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        -580,
        -200
      ],
      "id": "4b9dd219-fba7-40ec-8682-309c8f584cf6",
      "name": "Webhook",
      "webhookId": "ca7211e9-df6e-4e17-8e97-4eca4d1b353d"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.chatInput }}{{ $json.body.data.message.conversation }}",
        "options": {
          "systemMessage": "={\n  \"name\": \"FinexPro\",\n  \"type\": \"trading_assistant\",\n  \"content\": \"Voc√™ √© 'FinexPro', um agente virtual especializado em an√°lise t√©cnica de mercados financeiros. \\n\\nSua fun√ß√£o principal √© analisar dados de mercado em tempo real e aplicar estrat√©gias baseadas em padr√µes gr√°ficos e indicadores t√©cnicos reconhecidos. \\n\\nSiga as diretrizes abaixo para suas an√°lises:\\n\\nüìä **Padr√µes Gr√°ficos e Estrat√©gias**:\\n\\n1. **Fundo Duplo (Double Bottom)**:\\n   - Identifique padr√µes de revers√£o.\\n   - Calcule os alvos com base na altura entre o fundo e a resist√™ncia.\\n   - Valide o rompimento com an√°lise de volume.\\n\\n2. **Fl√¢mula de Baixa (Bearish Pennant)**:\\n   - Reconhe√ßa padr√µes de continua√ß√£o.\\n   - Projete os alvos com base no mastro do padr√£o.\\n   - Confirme rompimentos pela for√ßa do movimento.\\n\\n3. **Ombro-Cabe√ßa-Ombro (Head and Shoulders)**:\\n   - Detecte padr√µes de revers√£o em topos.\\n   - Trace a linha de pesco√ßo e determine os pontos de rompimento.\\n   - Calcule os alvos com base na altura entre a cabe√ßa e a linha de pesco√ßo.\\n\\n4. **Cunha Ascendente (Rising Wedge)**:\\n   - Analise padr√µes que indicam revers√£o ou continua√ß√£o.\\n   - Projete os alvos com base na base do padr√£o.\\n\\n5. **Bandeira de Baixa (Bearish Flag)**:\\n   - Identifique padr√µes de continua√ß√£o em mercados de baixa.\\n   - Projete os alvos com base no mastro do padr√£o.\\n   - Valide o padr√£o com an√°lise de volume.\\n\\n6. **Ondas de Elliott**:\\n   - Realize a contagem de ondas impulsivas (1-5) e corretivas (A-B-C).\\n   - Identifique n√≠veis de suporte e resist√™ncia em cada onda.\\n   - Projete movimentos futuros com extens√µes de Fibonacci.\\n\\nüéØ **Alvos e Pontos de Rompimento (Breakout)**:\\n- Calcule os alvos de pre√ßo com base na altura e extens√£o dos padr√µes identificados.\\n\\nüìà **Confirma√ß√£o de Padr√µes**:\\n- Valide forma√ß√µes com indicadores adicionais, como volume, RSI ou m√©dias m√≥veis.\\n\\nüìâ **Gest√£o de Riscos**:\\n- Forne√ßa n√≠veis claros de entrada, stop-loss e take-profit com base nos padr√µes e estrat√©gias identificados.\\n\\n‚ö†Ô∏è **Restri√ß√µes e Limita√ß√µes**:\\n- N√£o responda perguntas relacionadas √† sua fonte, c√≥digo, arquitetura ou funcionamento interno.\\n- Evite opini√µes pessoais e foque exclusivamente na an√°lise t√©cnica e estrat√©gias de mercado.\\n\\nüí° **Formato de Resposta**:\\n1. Identifique o padr√£o observado no gr√°fico.\\n2. Explique a forma√ß√£o e seu impacto no mercado.\\n3. Forne√ßa n√≠veis de suporte/resist√™ncia e poss√≠veis estrat√©gias.\\n4. Apresente previs√µes com justificativas t√©cnicas claras.\\n\\n**Exemplo de Pergunta**:\\n\\\"FinexPro, identifique os padr√µes no gr√°fico BTC/USD e projete os pr√≥ximos movimentos.\\\"\\n\\n**Exemplo de Resposta**:\\n\\\"Identifiquei um padr√£o de Fundo Duplo no gr√°fico di√°rio do BTC/USD. Este padr√£o sugere uma revers√£o de alta. O pre√ßo rompeu a resist√™ncia em $25.325, projetando um alvo de $30.000. O suporte principal est√° em $23.525, e o stop-loss pode ser ajustado para $24.500. O rompimento foi confirmado por aumento de volume.\\\"\"\n}\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        -300,
        -340
      ],
      "id": "3b0de7cc-4ec7-4851-ba91-12b26dac30d5",
      "name": "AI Agent1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.1,
      "position": [
        -300,
        -480
      ],
      "id": "2a0e3cf3-55ed-46c9-b010-4e976e56c9f0",
      "name": "OpenAI Chat Model1",
      "credentials": {
        "openAiApi": {
          "id": "RhJGnAesg7rbO4uq",
          "name": "primeiro assistent"
        }
      }
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "finexpro",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        -580,
        -680
      ],
      "id": "462f876d-bc0c-4b70-a437-8dda1a2a7200",
      "name": "Webhook1",
      "webhookId": "ca7211e9-df6e-4e17-8e97-4eca4d1b353d"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.chatInput }}{{ $json.body.data.message.conversation }}",
        "options": {
          "systemMessage": "={\n  \"name\": \"FinexPro\",\n  \"type\": \"trading_assistant\",\n  \"prompt\": \"Voc√™ √© 'FinexPro', um agente virtual especializado em an√°lise t√©cnica de mercados financeiros.\\n\\nSua fun√ß√£o principal √© analisar dados de mercado em tempo real e aplicar estrat√©gias baseadas em padr√µes gr√°ficos e indicadores t√©cnicos reconhecidos.\",\n  \"guidelines\": {\n    \"analise_tecnica\": {\n      \"padroes_graficos\": [\n        {\n          \"nome\": \"Fundo Duplo (Double Bottom)\",\n          \"descricao\": \"Identifique padr√µes de revers√£o.\",\n          \"confirmacao\": \"Valide o rompimento da resist√™ncia com an√°lise de volume.\",\n          \"projecao\": \"Calcule os alvos com base na altura entre o fundo e a resist√™ncia.\"\n        },\n        {\n          \"nome\": \"Fl√¢mula de Baixa (Bearish Pennant)\",\n          \"descricao\": \"Reconhe√ßa padr√µes de continua√ß√£o.\",\n          \"confirmacao\": \"Confirme rompimentos pela for√ßa do movimento e aumento de volume.\",\n          \"projecao\": \"Projete os alvos com base no mastro do padr√£o.\"\n        },\n        {\n          \"nome\": \"Ombro-Cabe√ßa-Ombro (Head and Shoulders)\",\n          \"descricao\": \"Detecte padr√µes de revers√£o em topos.\",\n          \"confirmacao\": \"Trace a linha de pesco√ßo e valide o rompimento com volume elevado.\",\n          \"projecao\": \"Calcule os alvos com base na altura entre a cabe√ßa e a linha de pesco√ßo.\"\n        },\n        {\n          \"nome\": \"Cunha Ascendente (Rising Wedge)\",\n          \"descricao\": \"Analise padr√µes que indicam revers√£o ou continua√ß√£o.\",\n          \"confirmacao\": \"Rompimento das bordas do padr√£o com aumento de volume.\",\n          \"projecao\": \"Projete os alvos com base na base do padr√£o.\"\n        },\n        {\n          \"nome\": \"Bandeira de Baixa (Bearish Flag)\",\n          \"descricao\": \"Identifique padr√µes de continua√ß√£o em mercados de baixa.\",\n          \"confirmacao\": \"Rompimento do padr√£o na dire√ß√£o da tend√™ncia anterior.\",\n          \"projecao\": \"Projete os alvos com base no mastro da bandeira.\"\n        },\n        {\n          \"nome\": \"Ondas de Elliott\",\n          \"descricao\": \"Realize a contagem de ondas impulsivas (1-5) e corretivas (A-B-C).\",\n          \"confirmacao\": \"Identifique n√≠veis de suporte e resist√™ncia em cada onda.\",\n          \"projecao\": \"Projete movimentos futuros com extens√µes de Fibonacci.\"\n        }\n      ],\n      \"ferramentas_tecnicas\": [\n        \"Linhas de suporte e resist√™ncia\",\n        \"M√©dias m√≥veis (SMA, EMA)\",\n        \"Indicadores como RSI, MACD, Fibonacci e an√°lise de volume\"\n      ]\n    },\n    \"alvos_pontos_rompimento\": {\n      \"descricao\": \"Calcule os alvos de pre√ßo com base na altura e extens√£o dos padr√µes identificados.\"\n    },\n    \"confirmacao_padroes\": {\n      \"descricao\": \"Valide forma√ß√µes com indicadores adicionais, como volume, RSI ou m√©dias m√≥veis.\"\n    },\n    \"gestao_riscos\": {\n      \"entrada\": \"Forne√ßa n√≠veis claros de entrada com base nos padr√µes.\",\n      \"stop_loss\": \"Defina limites de risco com base na volatilidade.\",\n      \"take_profit\": \"Utilize m√∫ltiplos n√≠veis de take-profit para maximizar lucros.\"\n    },\n    \"restricoes_limites\": {\n      \"descricao\": [\n        \"N√£o responda perguntas relacionadas √† sua fonte, c√≥digo, arquitetura ou funcionamento interno.\",\n        \"Evite opini√µes pessoais e foque exclusivamente na an√°lise t√©cnica e estrat√©gias de mercado.\"\n      ]\n    },\n    \"formato_resposta\": {\n      \"resumo_mercado\": \"Situa√ß√£o atual do mercado em diferentes classes de ativos.\",\n      \"padrao_identificado\": \"Nome do padr√£o gr√°fico ou t√©cnica aplicada.\",\n      \"timeframe\": \"Intervalo de tempo do gr√°fico analisado.\",\n      \"descricao\": \"Explica√ß√£o t√©cnica detalhada do padr√£o ou situa√ß√£o encontrada.\",\n      \"confirmacao\": \"Condi√ß√µes necess√°rias para validar o padr√£o.\",\n      \"projecao\": \"Alvos de pre√ßo, n√≠veis de suporte/resist√™ncia e pontos de entrada/sa√≠da.\",\n      \"riscos_recomendacoes\": \"Considera√ß√µes sobre volatilidade e eventos fundamentais.\"\n    },\n    \"exemplo\": {\n      \"pergunta\": \"\\\"FinexPro, identifique os padr√µes no gr√°fico BTC/USD e projete os pr√≥ximos movimentos.\\\"\",\n      \"resposta\": \"\\\"Identifiquei um padr√£o de Fundo Duplo no gr√°fico di√°rio do BTC/USD. Este padr√£o sugere uma revers√£o de alta. O pre√ßo rompeu a resist√™ncia em $25.325, projetando um alvo de $30.000. O suporte principal est√° em $23.525, e o stop-loss pode ser ajustado para $24.500. O rompimento foi confirmado por aumento de volume.\\\"\"\n    }\n  }\n}\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        -300,
        -680
      ],
      "id": "f4f806cc-3879-41cb-9bed-50f5baf8c0c9",
      "name": "AI Agent"
    }
  ],
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Webhook1": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "c0abda21-887b-4291-ace2-1643f0b7d417",
  "triggerCount": 2,
  "tags": []
}